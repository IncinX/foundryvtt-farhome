<form class="{{cssClass}}" autocomplete="off">
  {{!-- Uncomment to debug data context --}}
  {{!--{{log .}}--}}

  {{!-- Item Sheet Header --}}
  {{> "systems/farhome/templates/partials/item-header-partial.hbs"}}

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="description">{{localize "farhome.description"}}</a>
    <a class="item" data-tab="attributes">{{localize "farhome.attributes"}}</a>
    <a class="item" data-tab="prompts">{{localize "farhome.prompts"}}</a>
    <a class="item" data-tab="rollTemplate">{{localize "farhome.rollTemplate"}}</a>
  </nav>

  {{!-- Item Sheet Content --}}
  <section class="sheet-body">
    {{!-- Description Tab --}}
    <div class="tab" data-group="primary" data-tab="description">
      {{editor enrichedText.description target="system.description.value" button=true owner=owner editable=editable}}
    </div>

    {{!-- Attributes Tab --}}
    <div class="tab attributes" data-group="primary" data-tab="attributes">
      <table>
        <colgroup>
          <col class="attribute-label" />
          <col class="attribute-data" />
        </colgroup>
        {{>
        "systems/farhome/templates/partials/row-bool-partial.hbs"
        system.equipped
        objectString="system.equipped"}}
        {{>
        "systems/farhome/templates/partials/row-bool-partial.hbs"
        system.attuned
        objectString="system.attuned"}}
        {{>
        "systems/farhome/templates/partials/row-number-partial.hbs"
        system.charges
        objectString="system.charges"}}
        {{>
        "systems/farhome/templates/partials/row-number-partial.hbs"
        system.quantity
        objectString="system.quantity"}}
        {{>
        "systems/farhome/templates/partials/row-number-partial.hbs"
        system.weight
        objectString="system.weight"}}
        {{>
        "systems/farhome/templates/partials/row-select-partial.hbs"
        system.rarity
        objectString="system.rarity"
        mapping=config.rarities}}
        {{>
        "systems/farhome/templates/partials/row-select-partial.hbs"
        system.weaponType
        objectString="system.weaponType"
        mapping=config.weaponTypes}}
        {{>
        "systems/farhome/templates/partials/row-select-partial.hbs"
        system.damageType
        objectString="system.damageType"
        mapping=config.damageTypes}}
        {{>
        "systems/farhome/templates/partials/row-string-partial.hbs"
        system.range
        objectString="system.range"}}
        {{>
        "systems/farhome/templates/partials/row-bool-partial.hbs"
        system.finesse
        objectString="system.finesse"}}
        {{>
        "systems/farhome/templates/partials/row-bool-partial.hbs"
        system.heavy
        objectString="system.heavy"}}
        {{>
        "systems/farhome/templates/partials/row-bool-partial.hbs"
        system.loading
        objectString="system.loading"}}
        {{>
        "systems/farhome/templates/partials/row-number-partial.hbs"
        system.versatile
        objectString="system.versatile"}}
        {{>
        "systems/farhome/templates/partials/row-number-partial.hbs"
        system.reach
        objectString="system.reach"}}
      </table>
    </div>

    {{!-- Prompt Tab --}}
    {{!-- #todo Move this into a partial for easier re-use later. --}}
    <div class="tab" data-group="primary" data-tab="prompts">
      <ol class="prompt-list">
        <li class="flexrow item-divider">
          <div class="prompt-title">{{localize 'farhome.title'}}</div>
          <div class="prompt-description">{{localize 'farhome.description'}}</div>
        </li>
        {{#each system.prompts as |prompt promptIndex|}}
        <li class="flexrow">
          <div class="item-prompt" data-prompt-index="{{promptIndex}}">
            <div>
              <input
                class="item-prompt-title-input"
                type="text"
                placeholder="{{localize 'farhome.title'}}"
                value="{{prompt.title}}"
              />
              <input
                class="item-prompt-description-input"
                type="text"
                placeholder="{{localize 'farhome.description'}}"
                value="{{prompt.description}}"
              />
            </div>
            <a class="item-remove-prompt" title="{{localize 'farhome.removePrompt'}}"><i class="fas fa-trash"></i></a>
            {{#each prompt.choices as |choice choiceIndex|}}
            <div class="item-prompt-choice" data-choice-index="{{choiceIndex}}">
              <input
                class="item-prompt-choice-name-input"
                type="text"
                placeholder="{{localize 'farhome.label'}}"
                value="{{choice.name}}"
              />
              <input
                class="item-prompt-choice-value-input"
                type="text"
                placeholder="{{localize 'farhome.value'}}"
                value="{{choice.value}}"
              />
              <a class="item-remove-choice" title="{{localize 'farhome.removeChoice'}}"><i class="fas fa-trash"></i></a>
            </div>
            {{/each}}
            <a class="item-add-choice" title="{{localize 'farhome.addChoice'}}"><i class="fas fa-plus"></i> {{localize 'farhome.addChoice'}}</a>
          </div>
        </li>
        {{/each}}
      </ol>
      <a class="item-add-prompt" title="{{localize 'farhome.addPrompt'}}"><i class="fas fa-plus" > {{localize 'farhome.addPrompt'}}</i></a>
    </div>

    {{!-- Roll Template Tab --}}
    <div class="tab" data-group="primary" data-tab="rollTemplate">
      {{editor enrichedText.rollTemplate target="system.rollTemplate.value" button=true owner=owner editable=editable}}
    </div>
  </div>
</form>